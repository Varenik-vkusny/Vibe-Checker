<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VibeCheck Compare</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&family=Rajdhani:wght@600;700&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/compare.css">
</head>

<body>

    <div id="app-header"></div>

    <main class="compare-layout">
        <div class="glass-panel compare-stage">
            
            <!-- Story Progress (Mobile Only) -->
            <div class="story-progress">
                <div class="progress-bar active"></div>
                <div class="progress-bar"></div>
                <div class="progress-bar"></div>
            </div>

            <div class="stage-header">
                <h1>Vibe Showdown</h1>
                <p>Compare spots side-by-side to find your perfect match.</p>
            </div>

            <div class="comparison-engine">
                
                <!-- Place A -->
                <div class="competitor-card filled" id="card-a">
                    <div class="competitor-visual">
                        <img src="https://em-content.zobj.net/source/apple/419/hamburger_1f354.png" alt="Burger King">
                        <div class="score-badge">9.2</div>
                    </div>
                    <div class="competitor-info">
                        <h2>Burger King</h2>
                        <span class="meta">Center District ‚Ä¢ Fast Food</span>
                    </div>
                    <div class="competitor-stats">
                        <div class="stat-row">
                            <span>Food</span>
                            <div class="stat-bar"><div class="fill" style="width: 80%"></div></div>
                        </div>
                        <div class="stat-row">
                            <span>Vibe</span>
                            <div class="stat-bar"><div class="fill" style="width: 60%"></div></div>
                        </div>
                    </div>
                </div>

                <!-- VS Badge -->
                <div class="vs-divider">
                    <div class="vs-circle">VS</div>
                </div>

                <!-- Place B (Empty State) -->
                <div class="competitor-card empty" id="card-b">
                    <button class="add-competitor-btn" id="add-place-btn">
                        <span class="plus-icon">+</span>
                        <span>Add Competitor</span>
                    </button>
                    
                    <!-- Content (Hidden initially) -->
                    <div class="competitor-content hidden">
                        <div class="competitor-visual">
                            <img src="" alt="" id="comp-img">
                            <div class="score-badge" id="comp-score">--</div>
                        </div>
                        <div class="competitor-info">
                            <h2 id="comp-name">Select Place</h2>
                            <span class="meta" id="comp-meta">--</span>
                        </div>
                        <div class="competitor-stats">
                            <div class="stat-row">
                                <span>Food</span>
                                <div class="stat-bar"><div class="fill" style="width: 0%" id="comp-bar-food"></div></div>
                            </div>
                            <div class="stat-row">
                                <span>Vibe</span>
                                <div class="stat-bar"><div class="fill" style="width: 0%" id="comp-bar-vibe"></div></div>
                            </div>
                        </div>
                         <button class="remove-competitor" id="reset-btn">&times;</button>
                    </div>
                </div>

                <!-- Detailed Analysis Section (Story Slide 3) -->
                <div class="detailed-comparison hidden" id="detailed-comparison">
                    
                    <div class="detail-header">
                        <h2>Vibe Showdown Analysis</h2>
                        <button class="close-detail-btn" id="close-detail-btn">&times;</button>
                    </div>

                    <div class="comparison-grid">
                        
                        <!-- Metrics Column -->
                        <div class="col-metrics">
                            <h3>Vibe Metrics</h3>
                            
                            <div class="metric-compare-group">
                                <label>Food Quality</label>
                                <div class="double-bar">
                                    <div class="bar-a" style="width: 0%"></div>
                                    <div class="bar-b" style="width: 0%"></div>
                                </div>
                                <div class="metric-values">
                                    <span class="val-a">--</span>
                                    <span class="val-b">--</span>
                                </div>
                            </div>

                            <div class="metric-compare-group">
                                <label>Service Speed</label>
                                <div class="double-bar">
                                    <div class="bar-a" style="width: 0%"></div>
                                    <div class="bar-b" style="width: 0%"></div>
                                </div>
                                <div class="metric-values">
                                    <span class="val-a">--</span>
                                    <span class="val-b">--</span>
                                </div>
                            </div>

                            <div class="metric-compare-group">
                                <label>Noise Level</label>
                                <div class="double-bar">
                                    <div class="bar-a" style="width: 0%"></div>
                                    <div class="bar-b" style="width: 0%"></div>
                                </div>
                                <div class="metric-values">
                                    <span class="val-a">--</span>
                                    <span class="val-b">--</span>
                                </div>
                            </div>
                        </div>

                        <!-- AI Verdict Column -->
                        <div class="col-verdict">
                            <h3>AI Verdict</h3>
                            <div class="ai-box">
                                <div class="winner-banner" id="detailed-winner">
                                    üèÜ Winner: <span>--</span>
                                </div>
                                <p id="detailed-summary">AI is analyzing the differences...</p>
                                
                                <div class="pros-cons-grid">
                                    <div class="pc-col">
                                        <h4><span class="dot-a"></span> Place A</h4>
                                        <ul id="pros-a"></ul>
                                    </div>
                                    <div class="pc-col">
                                        <h4><span class="dot-b"></span> Place B</h4>
                                        <ul id="pros-b"></ul>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>

            </div>

            <!-- Comparison Actions -->
            <div class="compare-actions hidden" id="compare-actions">
                <button class="btn btn--primary" id="trigger-compare-btn">
                    <span>See Detailed Breakdown</span>
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12l-7 7-7-7"/></svg>
                </button>
            </div>


        </div>
    </main>

    <!-- Modal for Selection -->
    <div id="compare-modal" class="modal-overlay">
        <div class="modal-glass glass-panel">
            <div class="modal-header">
                <h3>Select Opponent</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-search">
                <input type="text" placeholder="Search places...">
            </div>
            <div class="modal-list">
                <button class="modal-item" data-id="mcd">
                    <img src="https://em-content.zobj.net/source/apple/419/french-fries_1f35f.png" alt="Mcd">
                    <div class="modal-item-info">
                        <strong>McDonald's</strong>
                        <span>Fast Food ‚Ä¢ 0.8km</span>
                    </div>
                </button>
                <button class="modal-item" data-id="kfc">
                    <img src="https://em-content.zobj.net/source/apple/419/poultry-leg_1f357.png" alt="Kfc">
                    <div class="modal-item-info">
                        <strong>KFC</strong>
                        <span>Chicken ‚Ä¢ 0.5km</span>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="js/theme.js"></script>
    <script src="js/compare.js"></script>
    <script src="js/components/header.js"></script>
</body>

</html>
